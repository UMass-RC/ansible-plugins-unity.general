todos:
  image: alpine
  script:
    - apk add ripgrep curl
    - set +e
    - todo_count="$(rg TODO | wc -l)"
    - set -e
    - curl "https://shields.io/badge/TODOs-$todo_count" > public/todos.svg
  artifacts:
    paths:
      - public/todos.svg
    expire_in: 1 week
fixmes:
  image: alpine
  script:
    - apk add ripgrep curl
    - set +e    
    - fixme_count="$(rg FIXME | wc -l)"
    - set -e
    - curl "https://shields.io/badge/FIXMEs-$fixme_count" > public/fixmes.svg
  artifacts:
    paths:
      - public/fixmes.svg
    expire_in: 1 week